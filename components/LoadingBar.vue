<template>
  <div v-if="loading && $route.name === 'index'">
    <div class="loader" v-show="$route.name === 'index'">
      <svg
        version="1.1"
        width="339"
        height="186"
        viewBox="0 0 339 186"
        xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink"
        x="0px"
        y="0px"
        style="enable-background: new 0 0 475.1 475.1"
        xml:space="preserve"
      >
        <defs>
          <linearGradient
            spreadMethod="pad"
            id="three_opacity_stops"
            x1="0%"
            y1="0%"
            x2="100%"
            y2="0%"
          >
            <stop :offset="`${percent}%`" style="stop-color: #1b2ac9" />

            <stop :offset="`${percent}%`" stop-color="transparent" />
          </linearGradient>
        </defs>
        <g style="fill: url(#three_opacity_stops)">
          <path
            stroke="url(#paint0_linear_1398_10470)"
            stroke-width="3"
            d="M296.743 10.308L296.742 10.3067C293.974 7.51417 290.687 5.29937 287.07 3.78845C283.453 2.27755 279.576 1.5 275.661 1.5C271.746 1.5 267.869 2.27755 264.252 3.78845C260.635 5.29937 257.348 7.51416 254.58 10.3067L254.579 10.3082L231.002 34.0288C231.001 34.0298 231 34.0308 230.999 34.0317C229.892 35.1515 228.576 36.0407 227.126 36.6478C225.675 37.2555 224.119 37.5685 222.547 37.5685C220.975 37.5685 219.418 37.2555 217.967 36.6478C216.516 36.0401 215.199 35.1499 214.092 34.0288L190.515 10.3082L190.513 10.3067C187.745 7.51417 184.459 5.29937 180.842 3.78845C177.224 2.27755 173.348 1.5 169.433 1.5C165.518 1.5 161.641 2.27755 158.024 3.78845C154.407 5.29937 151.12 7.51417 148.352 10.3067L148.35 10.3082L124.773 34.0288C124.773 34.0293 124.772 34.0299 124.772 34.0304C123.665 35.1508 122.348 36.0404 120.898 36.6478C119.447 37.2555 117.891 37.5685 116.318 37.5685C114.746 37.5685 113.19 37.2555 111.739 36.6478C110.288 36.0403 108.972 35.1504 107.865 34.0298C107.864 34.0294 107.864 34.0291 107.864 34.0288L84.2864 10.3082L84.2849 10.3067C81.5169 7.51417 78.2302 5.29937 74.6131 3.78845C70.996 2.27755 67.1192 1.5 63.2042 1.5C59.2892 1.5 55.4124 2.27755 51.7953 3.78845C48.1782 5.29937 44.8915 7.51417 42.1235 10.3067L42.1222 10.308L8.71413 43.933C4.09625 48.5859 1.5 54.8987 1.5 61.4834C1.5 68.068 4.09623 74.3808 8.71407 79.0337C8.71409 79.0338 8.71411 79.0338 8.71413 79.0338L42.1228 112.693L42.1235 112.693C44.8915 115.486 48.1782 117.701 51.7953 119.212C55.4124 120.722 59.2892 121.5 63.2042 121.5C67.1192 121.5 70.996 120.722 74.6131 119.212C78.2302 117.701 81.5169 115.486 84.2849 112.693L107.765 88.938C107.765 88.9379 107.765 88.9377 107.765 88.9376C108.872 87.8167 110.189 86.9266 111.64 86.319C113.091 85.7113 114.647 85.3983 116.219 85.3983C117.792 85.3983 119.348 85.7113 120.799 86.319C122.25 86.9265 123.566 87.8165 124.674 88.9373C124.674 88.9376 124.674 88.9378 124.674 88.938L148.252 112.693L148.253 112.693C151.021 115.486 154.308 117.701 157.925 119.212C161.542 120.722 165.419 121.5 169.334 121.5C173.249 121.5 177.126 120.722 180.743 119.212C184.36 117.701 187.646 115.486 190.414 112.693L190.415 112.693L213.993 88.938C213.993 88.9378 213.994 88.9376 213.994 88.9373C215.101 87.8165 216.418 86.9265 217.868 86.319C219.319 85.7113 220.876 85.3983 222.448 85.3983C224.02 85.3983 225.576 85.7113 227.027 86.319C228.478 86.9265 229.795 87.8165 230.902 88.9373C230.902 88.9376 230.902 88.9378 230.903 88.938L254.481 112.693L254.481 112.693C257.249 115.486 260.536 117.701 264.153 119.212C267.77 120.722 271.647 121.5 275.562 121.5C279.477 121.5 283.354 120.722 286.971 119.212C290.588 117.701 293.875 115.486 296.643 112.693L296.644 112.693L330.052 79.0337L330.055 79.0309C334.685 74.3905 337.298 68.0847 337.316 61.5C337.333 54.917 334.755 48.5986 330.152 43.9336L330.148 43.9301M296.743 10.308L330.148 43.9301M296.743 10.308L330.148 43.9301M296.743 10.308L330.148 43.9301"
          />
          <path
            d="M62.4642 42.5101C64.1189 42.499 65.7617 42.7917 67.3122 43.374C68.7533 43.9052 70.0758 44.7183 71.2039 45.7663C72.3107 46.8187 73.1966 48.0842 73.8093 49.4877C74.4541 51.0441 74.7686 52.7192 74.7328 54.4053C74.7467 56.0325 74.4442 57.6467 73.8423 59.1568C73.2779 60.5621 72.4236 61.8306 71.3358 62.8782C70.2145 63.9431 68.8906 64.7683 67.4442 65.3037C65.8715 65.8889 64.2065 66.1816 62.5301 66.1676H58.5395V80.4884H51.6797V42.5101H62.4642ZM58.5395 49.9529V58.6916H63.5195C64.6685 58.7174 65.7817 58.2879 66.6197 57.4954C67.0352 57.0931 67.3616 56.607 67.5776 56.0687C67.7936 55.5304 67.8942 54.9523 67.8729 54.3721C67.8924 53.7951 67.7942 53.2201 67.5843 52.6829C67.3744 52.1457 67.0573 51.6576 66.6526 51.2487C66.2526 50.8198 65.7659 50.4822 65.2255 50.2587C64.6851 50.0352 64.1033 49.9309 63.5195 49.9529H58.5395Z"
            fill="white"
          />
          <path
            d="M159.058 42.5098H179.802V50.0191H165.918V57.1961H178.252V64.7054H165.918V72.9456H179.802V80.4549H159.058V42.5098Z"
            fill="white"
          />
          <path
            d="M261.167 42.5098H290.222V49.9194H279.108V80.4549H272.215V49.9194H261.167V42.5098Z"
            fill="white"
          />
          <path
            d="M135.148 57.728H97.4849V65.2373H135.148V57.728Z"
            fill="white"
          />
          <path
            d="M241.379 57.728H203.716V65.2373H241.379V57.728Z"
            fill="white"
          />
          <path
            d="M81 147H101.881V154.527H87.9273V161.721H100.29V169.247H87.9273V177.507H101.881V185.034H81V147Z"
            fill="#1B2AC9"
          />
          <path
            d="M113.984 185.034H105.61L118.252 165.384L106.365 147H114.509L122.291 159.09L130.074 147H138.414L126.527 165.384L139.169 185.034H131.026L122.488 171.712L113.984 185.034Z"
            fill="#1B2AC9"
          />
          <path
            d="M155.222 147C156.879 146.989 158.524 147.283 160.077 147.866C161.51 148.399 162.823 149.215 163.941 150.264C165.06 151.31 165.949 152.58 166.55 153.994C167.202 155.542 167.528 157.209 167.508 158.89C167.522 160.521 167.219 162.139 166.616 163.652C166.038 165.063 165.172 166.334 164.073 167.383C162.957 168.443 161.644 169.269 160.209 169.814C158.626 170.413 156.946 170.707 155.255 170.68H151.259V185.034H144.39V147H155.222ZM151.259 154.46V163.22H156.246C156.816 163.236 157.384 163.139 157.917 162.933C158.45 162.727 158.937 162.417 159.35 162.021C159.772 161.621 160.102 161.135 160.319 160.594C160.535 160.054 160.633 159.472 160.605 158.89C160.623 158.315 160.528 157.741 160.323 157.204C160.119 156.666 159.811 156.175 159.416 155.759C158.995 155.311 158.48 154.962 157.909 154.738C157.338 154.513 156.725 154.418 156.114 154.46H151.259Z"
            fill="#1B2AC9"
          />
          <path
            d="M173.475 147H193.61V154.527H180.123V161.721H192.076V169.247H180.123V177.507H193.61V185.034H173.475V147Z"
            fill="#1B2AC9"
          />
          <path
            d="M201.814 147H212.835C214.226 147.007 215.608 147.231 216.932 147.664C218.243 148.091 219.459 148.779 220.508 149.688C221.595 150.645 222.46 151.835 223.044 153.173C223.729 154.714 224.063 156.393 224.02 158.085C224.059 160.364 223.437 162.604 222.232 164.523C221.009 166.377 219.211 167.756 217.127 168.44L225.678 185.034H218.07L209.909 169.303H208.576V185.034H201.814V147ZM208.609 154.434V162.2H213.421C213.92 162.222 214.419 162.142 214.887 161.966C215.356 161.789 215.786 161.519 216.152 161.171C216.51 160.801 216.789 160.359 216.974 159.874C217.158 159.389 217.244 158.87 217.225 158.35C217.24 157.839 217.156 157.329 216.977 156.85C216.799 156.372 216.529 155.934 216.184 155.563C215.824 155.191 215.393 154.9 214.917 154.706C214.442 154.511 213.932 154.419 213.421 154.434H208.609Z"
            fill="#1B2AC9"
          />
          <path
            d="M227.915 147H257V154.427H245.763V185.034H238.888V154.427H227.915V147Z"
            fill="#1B2AC9"
          />
          <defs>
            <linearGradient
              id="paint0_linear_1398_10470"
              x1="343.981"
              y1="85.713"
              x2="-6.34167"
              y2="55.461"
              gradientUnits="userSpaceOnUse"
            >
              <stop stop-color="#1B2AC9" />
              <stop offset="1" stop-color="#1B2AC9" />
            </linearGradient>
          </defs>
        </g>
      </svg>
      <!-- <div class="loader__percent">{{ showPercent }} %</div> -->
    </div>
  </div>
</template>
<script>
export default {
  data: () => ({
    loading: false,
    percent: 0,
  }),
  computed: {
    showPercent() {
      return this.percent.toFixed();
    },
  },
  methods: {
    start() {
      this.loading = true;
    },
    finish() {
      this.loading = false;
    },
  },
  mounted() {
    const interval = setInterval(() => {
      if (this.percent < 100) {
        this.percent += 1.9;
      } else {
        clearInterval(interval);
      }
    }, 4);
  },
};
</script>
<style lang="scss" scoped>
.loader {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 999;
  padding: 1rem;
  text-align: center;
  font-size: 3rem;
  font-family: Gerbera;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;

  &::after {
    content: "";
    background: #dee3e5;
    top: 50%;
    left: 50%;
    width: 100vw;
    height: 100vh;
    transform: translate(-50%, -50%);
    position: absolute;
    z-index: -1;
  }
  &__percent {
    color: #1b2ac9;
    margin-top: 20px;
    font-family: Gerbera;
  }
}
</style>
